# IMPLEMENTATION PHASE — {props.phaseName} (Pass {props.pass})

Phase ID: {props.phaseId}

## Context

Read the plan file: {props.planFilePath}
Read the context file: {props.contextFilePath}

## Implementation Steps

{props.implementationSteps}

{props.previousSummary ? `## Previous Implementation (Pass ${Number(props.pass) - 1})

What was done: ${props.previousSummary}
${props.previousNextSteps ? `Next steps identified: ${props.previousNextSteps}` : ""}
` : ""}

{props.failingTests ? `## FAILING TESTS — FIX THESE FIRST

${props.failingTests}
` : ""}

{props.prdReviewFeedback ? `## Spec Review Feedback (from previous pass)

${props.prdReviewFeedback}
` : ""}

{props.codeReviewFeedback ? `## Code Review Feedback (from previous pass)

${props.codeReviewFeedback}
` : ""}

{props.finalReviewFeedback ? `## Final Review Feedback (from previous pass)

${props.finalReviewFeedback}
` : ""}

{props.reviewFixSummary ? `## Review Fix Summary (from previous pass)

${props.reviewFixSummary}
` : ""}

## Project-Specific Rules

{props.projectInstructions}

## Generic Implementation Rules

1. **Read the plan and context files** before writing any code
2. **Implement the SMALLEST ATOMIC UNIT** of work possible
3. **Run build after every change** to check compilation
4. **Write tests alongside implementation**
5. **Atomic commits** — one logical change per commit

## REQUIRED OUTPUT

You MUST end your response with a JSON object matching this schema:

{props.schema}
