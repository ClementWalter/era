--- a/src/agents/cli.ts
+++ b/src/agents/cli.ts
@@ -1089,8 +1089,7 @@
     let schemaCleanupFile: string | null = null;
     if (!this.opts.outputSchema && params.options?.outputSchema) {
       try {
-        const { zodToJsonSchema } = await import("zod-to-json-schema");
-        const jsonSchema = zodToJsonSchema(params.options.outputSchema);
+        const jsonSchema = (params.options.outputSchema as any).toJSONSchema();
         const schemaFile = join(
           tmpdir(),
           `smithers-schema-${randomUUID()}.json`,
